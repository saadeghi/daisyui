import{b as g,r as n,q as E}from"./runtime.FCCJB71a.js";import{i as L}from"./i18n.Cc0IAjl7.js";import{g as m,i as q}from"./113.BoehNm50.js";import{e as x}from"./disclose-version.vS8Cq8Jh.js";function D(e,f,r,a=!0){a&&r();for(var o of f)e.addEventListener(o,r);g(()=>{for(var _ of f)e.removeEventListener(_,r)})}function d(e,f,r,a=r){e.addEventListener(f,r);const o=e.__on_r;o?e.__on_r=()=>{o(),a()}:e.__on_r=a,L()}function O(e,f,r){d(e,"input",()=>{r(b(e)?h(e.value):e.value)}),n(()=>{var a=f();if(x&&e.defaultValue!==e.value){r(e.value);return}b(e)&&a===h(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a??"")})}function P(e,f,r,a,o){var _=r.getAttribute("type")==="checkbox",v=e;let i=!1;if(f!==null)for(var t of f){var u=v;v=u[t],v===void 0&&(v=u[t]=[])}v.push(r),d(r,"change",()=>{var c=r.__value;_&&(c=k(v,c,r.checked)),o(c)},()=>o(_?[]:null)),n(()=>{var c=a();if(x&&r.defaultChecked!==r.checked){i=!0;return}_?(c=c||[],r.checked=m(c).includes(m(r.__value))):r.checked=q(r.__value,c)}),g(()=>{var c=v.indexOf(r);c!==-1&&v.splice(c,1)}),E(()=>{if(v.sort((s,y)=>s.compareDocumentPosition(y)===4?-1:1),i){var c;if(_)c=k(v,c,r.checked);else{var l=v.find(s=>s.checked);c=l==null?void 0:l.__value}o(c)}})}function S(e,f,r){d(e,"change",()=>{var a=e.checked;r(a)}),f()==null&&r(!1),n(()=>{var a=f();e.checked=!!a})}function k(e,f,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(f),Array.from(a)}function b(e){var f=e.type;return f==="number"||f==="range"}function h(e){return e===""?null:+e}export{P as a,S as b,O as c,D as l};
