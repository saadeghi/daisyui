.chat {
  @apply grid gap-x-3 py-1;
}

.chat-bubble-primary {
  @apply bg-primary text-primary-content;
}

.chat-bubble-secondary {
  @apply bg-secondary text-secondary-content;
}

.chat-bubble-accent {
  @apply bg-accent text-accent-content;
}

.chat-bubble-neutral {
  @apply bg-neutral text-neutral-content;
}

/* state colors */
.chat-bubble-info {
  @apply bg-info text-info-content;
}

.chat-bubble-success {
  @apply bg-success text-success-content;
}

.chat-bubble-warning {
  @apply bg-warning text-warning-content;
}

.chat-bubble-error {
  @apply bg-error text-error-content;
}

.chat-image {
  @apply row-span-2 self-end;
}

.chat-header {
  @apply row-start-1;
  font-size: 0.75rem;
  line-height: 1rem;
}

.chat-footer {
  @apply row-start-3;
  font-size: 0.75rem;
  line-height: 1rem;
}

.chat-bubble {
  @apply relative block w-fit px-4 py-2 rounded-box bg-base-200 text-base-content;
  min-height: 2.5rem;
  min-width: 2.5rem;
  max-width: 90%;

  &:before {
    @apply absolute bottom-0 h-3 w-3;
    background-color: inherit;
    content: "";
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
  }
}

.chat-start {
  @apply place-items-start;
  grid-template-columns: auto 1fr;

  .chat-header {
    @apply col-start-2;
  }

  .chat-footer {
    @apply col-start-2;
  }

  .chat-image {
    @apply col-start-1;
  }

  .chat-bubble {
    @apply col-start-2 rounded-es-none;

    &:before {
      inset-inline-start: -0.749rem;
      mask-image: url("data:image/svg+xml,%3csvg width='3' height='3' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m 0 3 L 3 3 L 3 0 C 3 1 1 3 0 3'/%3e%3c/svg%3e");

      [dir="rtl"] & {
        mask-image: url("data:image/svg+xml,%3csvg width='3' height='3' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m 0 3 L 1 3 L 3 3 C 2 3 0 1 0 0'/%3e%3c/svg%3e");
      }
    }
  }
}

.chat-end {
  @apply place-items-end;
  grid-template-columns: 1fr auto;

  .chat-header {
    @apply col-start-1;
  }

  .chat-footer {
    @apply col-start-1;
  }

  .chat-image {
    @apply col-start-2;
  }

  .chat-bubble {
    @apply col-start-1 rounded-ee-none;

    &:before {
      inset-inline-start: 99.9%;
      mask-image: url("data:image/svg+xml,%3csvg width='3' height='3' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m 0 3 L 1 3 L 3 3 C 2 3 0 1 0 0'/%3e%3c/svg%3e");

      [dir="rtl"] & {
        mask-image: url("data:image/svg+xml,%3csvg width='3' height='3' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='m 0 3 L 3 3 L 3 0 C 3 1 1 3 0 3'/%3e%3c/svg%3e");
      }
    }
  }
}
